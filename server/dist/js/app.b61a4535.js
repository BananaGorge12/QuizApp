(function(e){function t(t){for(var a,o,s=t[0],u=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"206d":function(e,t,n){"use strict";var a=n("4413"),i=n.n(a);i.a},"21bb":function(e,t,n){"use strict";var a=n("2dad"),i=n.n(a);i.a},"21da":function(e,t,n){"use strict";var a=n("effc"),i=n.n(a);i.a},"29e7":function(e,t,n){},"2dad":function(e,t,n){},4413:function(e,t,n){},"4dc3":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("router-view")],1)},r=[],o=(n("96cf"),n("1da1")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"navbar"},[n("v-bottom-navigation",{attrs:{value:e.value,color:"primary",horizontal:"",grow:""}},[n("v-btn",{attrs:{to:"/"}},[n("span",[e._v("Home")]),n("v-icon",[e._v("mdi-home")])],1),e.user?e._e():n("v-btn",{attrs:{to:"/login"}},[n("span",[e._v("Login")]),n("v-icon",[e._v("mdi-login")])],1),e.user?e._e():n("v-btn",{attrs:{to:"/signup"}},[n("span",[e._v("Signup")]),n("v-icon",[e._v("mdi-login")])],1),e.user?n("v-btn",{attrs:{to:"/profile"}},[n("span",[e._v("Profile")]),n("v-icon",[e._v("mdi-card-account-details")])],1):e._e(),e.user?n("v-btn",{attrs:{to:"/new-quiz"}},[n("span",[e._v("New Quiz")]),n("v-icon",[e._v("mdi-pencil")])],1):e._e(),e.user?n("v-btn",{attrs:{id:"navbar__logout"},on:{click:function(t){e.dialog=!0}}},[n("span",[e._v("Logout")]),n("v-icon",[e._v("mdi-logout")])],1):e._e()],1),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Are You Sure That You Want To Logout?")]),n("v-card-text",[e._v("When you logout you won't be able to access your account and test until you log back in.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)],1)],1)},u=[],c=n("bc3a"),l=n.n(c),d={name:"Navbar",data:function(){return{value:1,dialog:!1}},methods:{logout:function(){l.a.post("/api/users/logout",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){localStorage.removeItem("token"),location.reload()})).catch((function(e){console.log(e)}))}},computed:{user:function(){return this.$store.state.user}}},p=d,m=n("2877"),v=n("6544"),f=n.n(v),h=n("7496"),_=n("b81c"),z=n("8336"),g=n("b0af"),b=n("99d9"),w=n("169a"),q=n("132d"),k=n("0fd9"),C=n("2fa4"),x=Object(m["a"])(p,s,u,!1,null,null,null),y=x.exports;f()(x,{VApp:h["a"],VBottomNavigation:_["a"],VBtn:z["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VDialog:w["a"],VIcon:q["a"],VRow:k["a"],VSpacer:C["a"]});var Q={name:"App",components:{NavBar:y},data:function(){return{}},methods:{getUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUserDataFromDB");case 2:case"end":return t.stop()}}),t)})))()},getQuizzes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadQuizzesFromDB");case 2:case"end":return t.stop()}}),t)})))()}},asyncComputed:{quizzes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getQuizzes();case 2:return t.abrupt("return",e.$store.state.quizzes);case 3:case"end":return t.stop()}}),t)})))()},user:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUser();case 2:return t.abrupt("return",e.$store.state.user);case 3:case"end":return t.stop()}}),t)})))()}}},S=Q,P=(n("5c0b"),Object(m["a"])(S,i,r,!1,null,null,null)),$=P.exports,D=n("8c4f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"home"},[n("h1",[e._v("Home")]),n("v-row",[n("v-row",{staticClass:"flex-column"},[n("h3",[e._v("Your Quizzes")]),e.Myquizzes&&e.Myquizzes.length>0?n("ul",e._l(e.Myquizzes,(function(t,a){return n("li",{key:a,staticClass:"u-link",on:{click:function(n){return e.goToQuizPage(t._id)}}},[n("span",[e._v(e._s(t.name))])])})),0):n("ul",[n("li",[e._v("You dont have any quizzes.")])])]),n("v-row",{staticClass:"flex-column"},[n("h3",[e._v("Your Assigned Quizzes")]),e.user&&e.user.assignedQuizzes.length>0?n("ul",e._l(e.user.assignedQuizzes,(function(t,a){return n("li",{key:a,staticClass:"u-link",on:{click:function(n){return e.goToAssignedQuiz(t.id)}}},[n("span",[e._v(e._s(t.name))])])})),0):n("ul",[n("li",[e._v("You dont have any Assigned quizzes.")])])])],1)],1)},V=[],A=(n("d3b7"),{name:"Home",data:function(){return{Myquizzes:null,dialog:!1,quizId:null}},methods:{goToQuizPage:function(e){this.$router.push({name:"quizPage",params:{id:e}})},goToAssignedQuiz:function(e){this.$router.push({name:"takeQuiz",params:{id:e}})},loadData:function(){var e=this;return new Promise((function(t){var n=setInterval((function(){e.storeQuizzes&&(e.Myquizzes=e.storeQuizzes),e.user&&e.storeQuizzes&&(t(),clearInterval(n))}),100)}))}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},computed:{storeQuizzes:function(){return this.$store.state.quizzes},user:function(){return this.$store.state.user}}}),O=A,E=(n("21bb"),Object(m["a"])(O,N,V,!1,null,null,null)),I=E.exports;f()(E,{VApp:h["a"],VRow:k["a"]});var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"login"},[n("h1",[e._v("Login")]),n("v-form",{staticClass:"login__form"},[n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",name:"input-10-1",label:"Password",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{color:"blue"},on:{click:e.login}},[e._v("login!")]),e.feedback?n("p",{staticClass:"body-2 u-error-message"},[e._v(e._s(e.feedback))]):e._e()],1)],1)},j=[],T={name:"Login",data:function(){return{show1:!1,email:null,password:null,conut:5,feedback:null,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],rules:{required:function(e){return!!e||"Required."},emailMatch:function(){return"The email and password you entered don't match"}}}},created:function(){var e=this,t=0,n=setInterval((function(){e.user?(clearInterval(n),e.$router.push({name:"Home"})):t>100&&clearInterval(n),t++}),100)},methods:{login:function(){var e=this;if(!this.email||!this.password)return this.feedback="Please Fill Out All Fields.";this.feedback=null,l.a.post("/api/users/login",{email:this.email,password:this.password}).then((function(t){localStorage.setItem("token",t.data.token),e.feedback="Loging in!",location.reload()})).catch((function(e){console.log(e)}))}},computed:{user:function(){return this.$store.state.user}}},B=T,F=(n("206d"),n("4bd4")),U=n("8654"),H=Object(m["a"])(B,R,j,!1,null,null,null),M=H.exports;f()(H,{VApp:h["a"],VBtn:z["a"],VForm:F["a"],VTextField:U["a"]});var L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"signup"},[n("h1",[e._v("Signup")]),n("v-form",{staticClass:"signup__form"},[n("v-text-field",{attrs:{label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",name:"input-10-1",label:"Password",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{color:"blue"},on:{click:e.signup}},[e._v("Signup!")]),e.feedback?n("p",{staticClass:"body-2 u-error-message"},[e._v(e._s(e.feedback))]):e._e()],1)],1)},Y=[],J=(n("b0c0"),{name:"Signup",data:function(){return{show1:!1,feedback:null,email:null,password:null,name:null,conut:5,rules:{required:function(e){return!!e||"Required."},emailMatch:function(){return"The email and password you entered don't match"}}}},methods:{signup:function(){var e=this;if(!this.name||!this.email||!this.password)return this.feedback="Please Fill Out All Fields.";this.feedback=null,l.a.post("/api/users/signup",{name:this.name,email:this.email,password:this.password}).then((function(t){e.feedback="User created!",localStorage.setItem("token",t.data.token),location.reload()})).catch((function(t){e.feedback=t}))}},created:function(){var e=this,t=0,n=setInterval((function(){e.user?(clearInterval(n),e.$router.push({name:"Home"})):t>100&&clearInterval(n),t++}),100)},computed:{user:function(){return this.$store.state.user}}}),W=J,G=(n("21da"),Object(m["a"])(W,L,Y,!1,null,null,null)),K=G.exports;f()(G,{VApp:h["a"],VBtn:z["a"],VForm:F["a"],VTextField:U["a"]});var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"profile container"},[n("h1",[e._v("Profile")]),n("h3",{staticClass:"h3"},[e._v("Name:")]),e.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"profile__input",domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}):n("p",{staticClass:"subtitle-1"},[e._v(e._s(e.name))]),n("h3",{staticClass:"h3"},[e._v("Email:")]),e.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"profile__input",domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}):n("p",{staticClass:"subtitle-1"},[e._v(e._s(e.email))]),e.edit?n("h3",{staticClass:"h3"},[e._v("New Password:")]):e._e(),e.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"profile__input",domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}):e._e(),e.edit?n("v-btn",{staticClass:"profile__btn",attrs:{elevation:"2",color:"red accent-4",width:"100"},on:{click:function(t){e.edit=!1}}},[e._v("Cancel")]):n("v-btn",{staticClass:"profile__btn",attrs:{elevation:"2",color:"green accent-3",width:"100"},on:{click:function(t){e.edit=!0}}},[e._v("Edit")]),e.edit?n("v-btn",{staticClass:"profile__btn",attrs:{elevation:"2",color:"blue",width:"100"},on:{click:e.updateUser}},[e._v("Save")]):e._e()],1)},Z=[],ee={name:"Profile",data:function(){return{edit:!1,name:null,email:null,password:null}},methods:{updateUser:function(){var e={};this.name&&(e.name=this.name),this.email&&(e.email=this.email),this.password&&(e.password=this.password),console.log(e),l.a.patch("/api/users/me",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){location.reload()})).catch((function(e){console.log(e)}))}},created:function(){var e=this;localStorage.getItem("token")||this.$router.push({name:"Home"});var t=setInterval((function(){e.user&&(e.name=e.user.name,e.email=e.user.email,clearInterval(t))}),100)},computed:{user:function(){return this.$store.state.user}}},te=ee,ne=(n("6346"),Object(m["a"])(te,X,Z,!1,null,null,null)),ae=ne.exports;f()(ne,{VApp:h["a"],VBtn:z["a"]});var ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"new-quiz"},[n("h1",[e._v("Quiz Maker")]),n("h2",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.quizName,expression:"quizName"}],staticClass:"new-quiz__quiz-name",attrs:{type:"text"},domProps:{value:e.quizName},on:{input:function(t){t.target.composing||(e.quizName=t.target.value)}}})]),n("ul",e._l(e.questions,(function(t,a){return n("li",{key:a,staticClass:"new-quiz__question"},[n("v-icon",{on:{click:function(t){return e.deleteQuestion(a)}}},[e._v("mdi-trash-can")]),n("h3",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"question.title"}],staticClass:"new-quiz__title-input",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}})]),n("ol",e._l(t.options,(function(t,a){return n("li",{key:a},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"option.title"}],staticClass:"new-quiz__input",class:{"new-quiz__input--green":t.correct,"new-quiz__input--red":!t.correct},attrs:{type:"text"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}),t.correct?n("v-icon",{staticClass:"new-quiz__correct-btn",attrs:{color:"green"},on:{click:function(e){t.correct=!1}}},[e._v("mdi-checkbox-marked-circle")]):n("v-icon",{staticClass:"new-quiz__correct-btn",attrs:{color:"red"},on:{click:function(e){t.correct=!0}}},[e._v("mdi-checkbox-marked-circle")])],1)})),0)],1)})),0),n("v-btn",{staticClass:"new-quiz__btn",attrs:{color:"blue"},on:{click:e.addNewQuestion}},[e._v("New Question")]),e.questions.length>0?n("v-btn",{staticClass:"new-quiz__btn",attrs:{color:"green"},on:{click:e.saveQuiz}},[e._v("Save")]):e._e()],1)},re=[],oe=(n("4de4"),{name:"newQuiz",data:function(){return{questions:[],quizName:"New Quiz"}},created:function(){localStorage.getItem("token")||this.$router.push({name:"Home"})},methods:{deleteQuestion:function(e){var t=0;this.questions=this.questions.filter((function(){return t==e?(t+=1,!1):(t+=1,!0)}))},addNewQuestion:function(){var e={title:"Question ".concat(this.questions.length+1),options:[{title:"Option 1",correct:!0},{title:"Option 2",correct:!1},{title:"Option 3",correct:!1},{title:"Option 4",correct:!1}]};this.questions.push(e)},saveQuiz:function(){var e=this;l.a.post("/api/quiz",{name:this.quizName,questions:this.questions},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){e.$store.commit("addQuiz",t.data),e.$router.push({name:"Home"})})).catch((function(e){alert("An error has happend :(. Message:".concat(e))}))}}}),se=oe,ue=(n("e23b"),Object(m["a"])(se,ie,re,!1,null,null,null)),ce=ue.exports;f()(ue,{VApp:h["a"],VBtn:z["a"],VIcon:q["a"]});var le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.quiz?n("v-app",{staticClass:"edit-quiz"},[n("h1",[e._v("Quiz Editor")]),n("h2",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.quiz.name,expression:"quiz.name"}],staticClass:"edit-quiz__quiz-name",attrs:{type:"text"},domProps:{value:e.quiz.name},on:{input:function(t){t.target.composing||e.$set(e.quiz,"name",t.target.value)}}})]),n("ul",e._l(e.quiz.questions,(function(t,a){return n("li",{key:a,staticClass:"edit-quiz__question"},[n("h3",[n("v-icon",{on:{click:function(t){return e.deleteQuestion(a)}}},[e._v("mdi-trash-can")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"question.title"}],staticClass:"edit-quiz__title-input",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}})],1),n("ol",e._l(t.options,(function(t,a){return n("li",{key:a},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"option.title"}],staticClass:"edit-quiz__input",class:{"edit-quiz__input--green":t.correct,"edit-quiz__input--red":!t.correct},attrs:{type:"text"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}),t.correct?n("v-icon",{staticClass:"edit-quiz__correct-btn",attrs:{color:"green"},on:{click:function(e){t.correct=!1}}},[e._v("mdi-checkbox-marked-circle")]):n("v-icon",{staticClass:"edit-quiz__correct-btn",attrs:{color:"red"},on:{click:function(e){t.correct=!0}}},[e._v("mdi-checkbox-marked-circle")])],1)})),0)])})),0),n("v-btn",{staticClass:"edit-quiz__btn",attrs:{color:"blue"},on:{click:e.addNewQuestion}},[e._v("New Question")]),e.quiz.questions.length>0?n("v-btn",{staticClass:"edit-quiz__btn",attrs:{color:"green"},on:{click:e.saveQuiz}},[e._v("Save")]):e._e()],1):n("h1",[e._v("loading")])},de=[],pe={name:"editQuiz",data:function(){return{quiz:!1}},created:function(){var e=this;localStorage.getItem("token")||this.$router.push({name:"Home"});var t=setInterval((function(){e.storeQuizzes&&(e.quiz=e.storeQuizzes,e.quiz=e.quiz.filter((function(t){return t._id==e.$route.params.id})),e.quiz=e.quiz[0],clearInterval(t))}),100)},methods:{deleteQuestion:function(e){var t=0;this.quiz.questions=this.quiz.questions.filter((function(){return t==e?(t+=1,!1):(t+=1,!0)}))},addNewQuestion:function(){var e={title:"Question ".concat(this.quiz.questions.length+1),options:[{title:"Option 1",correct:!0},{title:"Option 2",correct:!1},{title:"Option 3",correct:!1},{title:"Option 4",correct:!1}]};this.quiz.questions.push(e)},saveQuiz:function(){var e=this;l.a.patch("/api/quiz/".concat(this.$route.params.id),{name:this.quiz.name,questions:this.quiz.questions},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){e.$router.push({name:"Home"}),location.reload()})).catch((function(e){console.log(e)}))}},computed:{storeQuizzes:function(){return this.$store.state.quizzes}}},me=pe,ve=(n("c000"),Object(m["a"])(me,le,de,!1,null,null,null)),fe=ve.exports;f()(ve,{VApp:h["a"],VBtn:z["a"],VIcon:q["a"]});var he=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_e=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Notfound"},[n("h1",[e._v("404")])])}],ze={name:"NotFound",data:function(){return{}}},ge=ze,be=Object(m["a"])(ge,he,_e,!1,null,null,null),we=be.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.quiz?n("v-app",{staticClass:"take-quiz",class:{".u-loading":e.loading}},[n("h1",{staticClass:"take-quiz__quiz-name"},[e._v(e._s(e.quiz.name))]),n("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.turnInQuiz(t)}}},[n("ul",e._l(e.quiz.questions,(function(t,a){return n("li",{key:a,staticClass:"take-quiz__question"},[n("h3",[e._v(e._s(t.title))]),n("ul",e._l(t.options,(function(a,i){return n("li",{key:i},[e.finished?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"question.selected"}],staticClass:"u-pointer take-quiz__input",attrs:{name:t.title,type:"radio"},domProps:{value:a.title,checked:e._q(t.selected,a.title)},on:{change:function(n){return e.$set(t,"selected",a.title)}}}),n("span",{staticClass:"take-quiz__option",class:{"take-quiz__option--correct":e.finished&&a.correct,"take-quiz__option--incorrect":e.finished&&!a.correct}},[e._v(e._s(a.title))])])})),0)])})),0),n("input",{staticClass:"take-quiz__btn",attrs:{type:"submit"}})]),e.score?n("h4",{staticClass:"take-quiz__score"},[e._v(e._s(e.score))]):e._e(),e.feedback?n("p",{staticClass:"u-error-message"},[e._v(e._s(e.feedback))]):e._e()]):n("h1",[e._v("loading")])},ke=[],Ce=(n("a623"),n("4160"),n("159b"),{name:"takeQuiz",data:function(){return{quiz:null,currentName:null,feedback:null,finished:!1,score:null,loading:!1}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadUser();case 2:return t.next=4,e.loadQuiz();case 4:e.validiteUser();case 5:case"end":return t.stop()}}),t)})))()},methods:{validiteUser:function(){var e=this,t=!1;this.quiz.students.forEach((function(n){n.id==e.user._id&&(t=!0)})),t||this.$router.push({name:"Home"})},turnInQuiz:function(){var e=this;this.finished=!0;var t=this.checkQuiz();if(this.score="".concat(t,"/100"),this.user._id!=this.quiz.owner){var n=this.generateResultsObject(t);l.a.post("/api/quiz/".concat(this.$route.params.id,"/answer"),n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e)})).catch((function(t){e.feedback=t.response.data}))}},generateResultsObject:function(e){var t={name:this.user.name,email:this.user.email,score:e,answers:[]};return this.quiz.questions.forEach((function(e){t.answers.push({title:e.title,answer:e.selected})})),t},checkQuiz:function(){var e=0;this.quiz.questions.forEach((function(t){var n=t.options.filter((function(e){return e.correct}));n.every((function(e){return e.title==t.selected}))&&e++}));var t=e*(100/this.quiz.questions.length);return Math.round(t)},loadQuiz:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/api/quiz/".concat(e.$route.params.id)).then((function(t){e.quiz=t.data})).catch((function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})))()},loadUser:function(){var e=this,t=0,n=setInterval((function(){e.user?clearInterval(n):t>100&&(clearInterval(n),e.$router.push({name:"Home"})),t++}),100)},getCorrectAnswer:function(e){var t=e.options.filter((function(e){return e.correct}));return t[0].title}},computed:{user:function(){return this.$store.state.user}}}),xe=Ce,ye=(n("fee8"),Object(m["a"])(xe,qe,ke,!1,null,null,null)),Qe=ye.exports;f()(ye,{VApp:h["a"]});var Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.quiz?n("v-app",{staticClass:"quiz-page"},[n("h1",{staticClass:"quiz-page__title"},[e._v(e._s(e.quiz.name))]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.students,"item-key":"name"},scopedSlots:e._u([{key:"item.viewResultsButtons",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"u-pointer",on:{click:function(t){return e.viewResults(a)}}},[e._v("mdi-eye")])]}}],null,!0)}),n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-btn",{staticClass:"flex-grow-1",attrs:{color:"blue lighten-1"},on:{click:function(t){e.formDialog=!0}}},[e._v("Add New Student")]),n("v-btn",{staticClass:"flex-grow-1",attrs:{color:"yellow lighten-1"},on:{click:e.sendToEdit}},[e._v("Edit Quiz")]),n("v-btn",{staticClass:"flex-grow-1",attrs:{color:"green lighten-1"},on:{click:e.sendToTest}},[e._v("Test Quiz")]),n("v-btn",{staticClass:"flex-grow-1",attrs:{color:"red lighten-1"},on:{click:function(t){e.deleteDataPopup=!0,e.deleteDataPopupName="quiz"}}},[e._v("Delete Quiz")])],1),e.feedback?n("p",[e._v(e._s(e.feedback))]):e._e(),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.formDialog,callback:function(t){e.formDialog=t},expression:"formDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Add New Student")])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Email",required:""},model:{value:e.newStudentEmail,callback:function(t){e.newStudentEmail=t},expression:"newStudentEmail"}})],1)],1),e.popupFeedback?n("p",{staticClass:"u-error-message"},[e._v(e._s(e.popupFeedback))]):e._e()],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.formDialog=!1,e.popupFeedback=null}}},[e._v("Close")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.addNewStudent}},[e._v("Add")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.deleteDataPopup,callback:function(t){e.deleteDataPopup=t},expression:"deleteDataPopup"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this "+e._s(e.deleteDataPopupName)+"?")]),n("v-card-text",[e._v("By deleting the "+e._s(e.deleteDataPopupName)+" you or your student won't be able to access this quiz, and all recored of it will be removed for ever(a long time!).")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.deleteDataPopup=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.deleteData}},[e._v("Delete")])],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.studentResultsPopup,callback:function(t){e.studentResultsPopup=t},expression:"studentResultsPopup"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.studentResultsPopup=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Settings")])],1),e.selectedStudentData?n("div",{staticClass:"quiz-page__student-results"},[n("h1",{staticClass:"u-ma-b"},[e._v("Student: "),n("span",{staticClass:"u-bold"},[e._v(e._s(e.selectedStudentData.name))])]),e.selectedStudentData.answers?n("div",{staticClass:"quiz-page__student-results-data"},[n("h2",{staticClass:"u-ma-b"},[e._v("Score: "),n("span",{staticClass:"u-bold"},[e._v(e._s(e.selectedStudentData.score))])]),n("h2",{staticClass:"u-ma-b"},[e._v("Answers:")]),n("ul",e._l(e.selectedStudentData.answers,(function(t,a){return n("li",{key:a,staticClass:"u-ma-b"},[n("h3",[e._v("Question: "+e._s(t.title))]),n("h3",{staticClass:"u-indent"},[e._v('Student Answer: "'+e._s(t.answer)+'"')]),n("h3",{staticClass:"u-indent"},[e._v("Correct: "+e._s(e.isAnswerCorrect(t.answer,a)))]),e.getCorrectAnswer(a).length<2?n("h3",{staticClass:"u-indent"},[e._v('Correct Answer: "'+e._s(e.getCorrectAnswer(a)[0].title)+'"')]):n("h3",{staticClass:"u-indent"},[n("span",[e._v("Correct Answers")]),n("ul",e._l(e.getCorrectAnswer(a),(function(t,a){return n("li",{key:a},[e._v('"'+e._s(t.title)+'"')])})),0)])])})),0)]):n("h2",{staticClass:"u-ma-b"},[e._v("Student didnt take the quiz")]),n("v-btn",{attrs:{color:"red"},on:{click:function(t){e.deleteDataPopup=!0,e.deleteDataPopupName="student"}}},[e._v("Delete User")])],1):n("h1",[e._v("No User Selected")])],1)],1)],1):n("h1",[e._v("loading..")])},Pe=[],$e=(n("99af"),{name:"quizPage",data:function(){return{selectedStudentData:null,quiz:!1,formDialog:!1,deleteDataPopup:!1,deleteDataPopupName:null,studentResultsPopup:!1,newStudentEmail:null,popupFeedback:null,students:[],feedback:null,headers:[{text:"Student",align:"start",sortable:!1,value:"name"},{text:"Email",value:"email"},{text:"Score",value:"score"},{text:"View",value:"viewResultsButtons"}]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getQuizzesData();case 2:case"end":return t.stop()}}),t)})))()},methods:{setStudentsScore:function(){var e=this;this.quiz.answers.forEach((function(t){e.students.forEach((function(e){e.email===t.email&&(e.score=t.score)}))}))},sendToEdit:function(){this.$router.push({name:"editQuiz",params:{id:this.quiz._id}})},sendToTest:function(){this.$router.push({name:"takeQuiz",params:{id:this.quiz._id}})},deleteData:function(){"quiz"==this.deleteDataPopupName?this.deleteQuiz():"student"==this.deleteDataPopupName&&this.unassignStudent()},viewResults:function(e){var t=this.quiz.answers.filter((function(t){return t.email===e.email}));if(this.studentResultsPopup=!0,t.length<=0)return this.selectedStudentData=e;this.selectedStudentData=t[0]},getCorrectAnswer:function(e){var t=this.quiz.questions[e].options.filter((function(e){return e.correct}));return t},isAnswerCorrect:function(e,t){var n=this.quiz.questions[t].options.filter((function(e){return e.correct})),a=!1;return n.forEach((function(t){t.title==e&&(a=!0)})),a},unassignStudent:function(){var e=this,t=this.students.filter((function(t){return t.email==e.selectedStudentData.email}))[0].id;l.a.delete("/api/quiz/".concat(this.$route.params.id,"/students?sid=").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){e.students=e.students.filter((function(e){return e.id!=t.data._id})),e.feedback=null,e.deleteDataPopup=!1,e.studentResultsPopup=!1})).catch((function(t){console.error(t.response.data),e.feedback=t.response.data,e.deleteDataPopup=!1,e.studentResultsPopup=!1}))},deleteQuiz:function(){var e=this;l.a.delete("/api/quiz/".concat(this.$route.params.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){e.$store.commit("removeQuiz",t.data._id),e.$router.push({name:"Home"})})).catch((function(t){e.feedback=t.response.data,e.deleteDataPopup=!1}))},addNewStudent:function(){var e=this;if(!this.newStudentEmail)return this.popupFeedback="Please Enter An Email";this.feedback=null,l.a.post("/api/quiz/".concat(encodeURIComponent(this.$route.params.id),"/students"),{email:this.newStudentEmail},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){e.students.push(t.data),e.newStudentEmail=null,e.popupFeedback=null,e.formDialog=!1})).catch((function(t){console.error(t.response.data),e.popupFeedback=t.response.data,e.newStudentEmail=null}))},getQuizzesData:function(){var e=this;return new Promise((function(t){var n=0,a=setInterval((function(){e.storeQuizzes&&(e.quiz=e.storeQuizzes,e.quiz=e.quiz.filter((function(t){return t._id==e.$route.params.id})),e.quiz=e.quiz[0],e.quiz.students.forEach((function(t){e.students.push(t)})),e.setStudentsScore(),clearInterval(a),t()),n>100&&e.$router.push({name:"Home"}),n++}),100)}))}},computed:{storeQuizzes:function(){return this.$store.state.quizzes}}}),De=$e,Ne=(n("88e5"),n("62ad")),Ve=n("a523"),Ae=n("8fea"),Oe=n("71d9"),Ee=n("2a7f"),Ie=Object(m["a"])(De,Se,Pe,!1,null,null,null),Re=Ie.exports;f()(Ie,{VApp:h["a"],VBtn:z["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ne["a"],VContainer:Ve["a"],VDataTable:Ae["a"],VDialog:w["a"],VIcon:q["a"],VRow:k["a"],VSpacer:C["a"],VTextField:U["a"],VToolbar:Oe["a"],VToolbarTitle:Ee["a"]}),a["a"].use(D["a"]);var je=[{path:"/",name:"Home",component:I},{path:"/login",name:"Login",component:M},{path:"/signup",name:"Signup",component:K},{path:"/profile",name:"Profile",component:ae},{path:"/new-quiz",name:"newQuiz",component:ce},{path:"/quiz/:id/view",name:"quizPage",component:Re},{path:"/quiz/:id/edit",name:"editQuiz",component:fe},{path:"/quiz/:id/take",name:"takeQuiz",component:Qe},{path:"/*",name:"NotFound",component:we}],Te=new D["a"]({mode:"history",base:"/",routes:je}),Be=Te,Fe=n("2f62");a["a"].use(Fe["a"]);var Ue=new Fe["a"].Store({state:{token:function(){var e=localStorage.getItem("token");return e||null},user:null,quizzes:null},mutations:{loadUserData:function(e,t){return e.user=t},loadQuizzes:function(e,t){return e.quizzes=t},removeQuiz:function(e,t){e.quizzes=e.quizzes.filter((function(e){return e._id!=t}))},addQuiz:function(e,t){e.quizzes.push(t)}},actions:{loadUserDataFromDB:function(e){return this.state.token()?l.a.get("/api/users/me",{headers:{Authorization:"Bearer ".concat(this.state.token())}}).then((function(t){e.commit("loadUserData",t.data)})).catch((function(e){console.error(e)})):null},loadQuizzesFromDB:function(e){return this.state.token()?l.a.get("/api/quiz",{headers:{Authorization:"Bearer ".concat(this.state.token())}}).then((function(t){e.commit("loadQuizzes",t.data)})).catch((function(e){console.error(e)})):null}}}),He=n("f309");a["a"].use(He["a"]);var Me=new He["a"]({}),Le=n("3003");a["a"].config.productionTip=!1,a["a"].use(Le["a"]),new a["a"]({router:Be,store:Ue,vuetify:Me,render:function(e){return e($)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},6346:function(e,t,n){"use strict";var a=n("4dc3"),i=n.n(a);i.a},"6b9c":function(e,t,n){},"88e5":function(e,t,n){"use strict";var a=n("29e7"),i=n.n(a);i.a},"9c0c":function(e,t,n){},af4b:function(e,t,n){},c000:function(e,t,n){"use strict";var a=n("af4b"),i=n.n(a);i.a},e23b:function(e,t,n){"use strict";var a=n("6b9c"),i=n.n(a);i.a},ee26:function(e,t,n){},effc:function(e,t,n){},fee8:function(e,t,n){"use strict";var a=n("ee26"),i=n.n(a);i.a}});
//# sourceMappingURL=app.b61a4535.js.map